function initProgressModal(s,t){var d=s+" div.progressmodal-container";$(s).append('<div class="progressmodal-background"></div>'),$(s).append('<div class="progressmodal-container"></div>');var i={top:"auto"};$.isEmptyObject(t)?($(d).append('<table><tr><td class="progressmodal-spin"><div id="progressmodal-spin"></div></td><td>Loading...</td></tr></table>'),initProgressModalCSS(s)):($(d).append($.isEmptyObject(t.message)?'<table><tr><td class="progressmodal-spin"><div id="progressmodal-spin"></div></td><td>Loading...</td></tr></table>':'<table><tr><td class="progressmodal-spin"><div id="progressmodal-spin"></div></td></tr><tr><td>'+t.message+"</td></tr></table>"),initProgressModalCSS(s),$.isEmptyObject(t.width)||$(d).width(t.width),$.isEmptyObject(t.height)||$(d).height(t.height),$.isEmptyObject(t.fontsize)||$(d+" table td").css("font-size",t.fontsize),$.isEmptyObject(t.fontfamily)||$(d+" table td").css("font-family",t.fontfamily),$.isEmptyObject(t.spinopts)||(i=t.spinopts)),_progressmodal_spinner=new Spinner(i),adjustProgressModalCenter(d),$(window).resize(function(){adjustProgressModalCenter(d)}),body_margin=$("body").css("margin"),body_padding=$("body").css("padding")}function initProgressModalCSS(s){var t=new Object;t.display="none!important",t.position="fixed!important",t.width="100%!important",t.height="100%!important",$(s).css(t)}function displayProgressModal(s,t){t?($(s).fadeIn(500),_progressmodal_spinner.spin($("#progressmodal-spin").get(0)),$("body").css("margin","0"),$("body").css("padding","0")):(_progressmodal_spinner.stop(),$(s).fadeOut(250),$("body").css("margin",body_margin),$("body").css("padding",body_padding),$(s).empty())}function adjustProgressModalCenter(s){var t=$(s).parent().parent().width(),d=$(s).parent().parent().height(),i=(d-$(s).height())/2;1>i&&(i=100);var o=(t-$(s).width())/2;$(s).css({top:i+"px",left:o+"px"}),$("#progress").css("width",t+"px"),$("#progress").css("height",d+"px")}var _progressmodal_spinner,body_margin,body_padding;